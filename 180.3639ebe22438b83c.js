"use strict";(self.webpackChunkfact_front=self.webpackChunkfact_front||[]).push([[180],{1908:(P,M,a)=>{a.d(M,{Z:()=>Z});const v={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let b;const e=new Uint8Array(16);function E(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(e)}const _=[];for(let d=0;d<256;++d)_.push((d+256).toString(16).slice(1));const Z=function A(d,c,u){if(v.randomUUID&&!c&&!d)return v.randomUUID();const l=(d=d||{}).random||(d.rng||E)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,c){u=u||0;for(let r=0;r<16;++r)c[u+r]=l[r];return c}return function f(d,c=0){return(_[d[c+0]]+_[d[c+1]]+_[d[c+2]]+_[d[c+3]]+"-"+_[d[c+4]]+_[d[c+5]]+"-"+_[d[c+6]]+_[d[c+7]]+"-"+_[d[c+8]]+_[d[c+9]]+"-"+_[d[c+10]]+_[d[c+11]]+_[d[c+12]]+_[d[c+13]]+_[d[c+14]]+_[d[c+15]]).toLowerCase()}(l)}},9639:(P,M,a)=>{a.d(M,{p:()=>d});var m=a(755),v=a(4288),b=a(1749),e=a(319),E=a(1908),_=a(3690),f=a(3472),C=a(163),x=a(9082),A=a(4230),Z=a(2295);let d=(()=>{class c extends _.u{constructor(l,r,g){super(),this._restService=l,this._toast=r,this._modal=g,this.faPlus=v.r8p,this.faTrashCan=v.Vui,this.faPencil=v.TzT,this.faEye=v.Mdf,this.faRepeat=v.jHE,this.modalViewTypes=C.t,this.allElementsSelected=(0,m.tdS)(!1),this.elements=(0,m.tdS)([]),this.selectedElements=(0,m.tdS)([]),this.filters=(0,m.tdS)(null),this.query=(0,m.tdS)({limit:10,offset:0,page:1}),this.canAdd=!0,this.canEdit=!0,this.canRemove=!0,this.canView=!0}removeNonValidKeys(l){for(const r in l){const g=l[r];(null==g||""===g)&&delete l[r]}return l}getElements(){this._restService.getElements(this.query(),this.filters()).pipe((0,b.R)(this.observableDestroy$)).subscribe({next:l=>{this.query.mutate(r=>{r.total=l?.count}),this.elements.set(l?.results.map(r=>(r?.uuid||(r.uuid=(0,E.Z)()),r)))}})}addElement(l){this._restService.create(this.removeNonValidKeys(l)).pipe((0,b.R)(this.observableDestroy$)).subscribe({next:()=>{this._toast.showToast("Agregado exitosamente",f.p.SUCCESS),this.getElements()},error:()=>{this._toast.showToast("Ha ocurrido un error en la creaci\xf3n",f.p.DANGER)}})}updateElement(l){this._restService.edit(l?.uuid,this.removeNonValidKeys(l)).pipe((0,b.R)(this.observableDestroy$)).subscribe({next:()=>{this._toast.showToast("Editado exitosamente",f.p.SUCCESS),this.getElements()},error:()=>{this._toast.showToast("Ha ocurrido un error al editar",f.p.DANGER)}})}selectAllElement(){this.allElementsSelected()?this.selectedElements.set([]):this.elements().forEach(l=>{this.selectedElements().includes(l)||this.selectedElements.mutate(g=>{g.push(l)})}),this.allElementsSelected.set(!this.allElementsSelected())}closeModalAction(l){this.modalRef.result.then(r=>{if("string"!=typeof r)switch(l){case C.t.CREATE:this.addElement(r);break;case C.t.EDIT:this.updateElement(r)}},r=>{console.log(r)})}selectElement(l){this.selectedElements().includes(l)?this.selectedElements.mutate(g=>{g.splice(g.indexOf(l),1)}):this.selectedElements.mutate(g=>{g.push(l)}),this.allElementsSelected.set(this.selectedElements()?.length===this.elements?.length)}removeElements(l){const r=this._modal.open(x.c,{size:"sm"});r.componentInstance.question=l?"\xbfEst\xe1 seguro que desea eliminar este elemento?":"\xbfEst\xe1 seguro que desea eliminar todos los elementos?",r.result.then(g=>{"accept"===g&&(l?this._restService.remove(l).pipe((0,b.R)(this.observableDestroy$)).subscribe({next:()=>{this.getElements()}}):(0,e.D)(this.selectedElements()?.map(O=>this._restService.remove(O?.uuid))).pipe((0,b.R)(this.observableDestroy$)).subscribe({next:()=>{this._toast.showToast("Eliminado exitosamente",f.p.SUCCESS),this.getElements()},error:()=>{this._toast.showToast("Ha ocurrido un error al eliminar los elementos",f.p.DANGER)}}))})}isChecked(l){return this.selectedElements().some(r=>r?.uuid===l?.uuid)}search(l){this.filters.set(l),this.getElements()}changePagination(l){this.query.mutate(r=>{r={...r,page:l,offset:10*(l-1)}}),this.getElements()}ngOnInit(){this.allElementsSelected.set(!1),this.getElements()}}return c.\u0275fac=function(l){return new(l||c)(m.Y36(A.M),m.Y36(f.k),m.Y36(Z.FF))},c.\u0275cmp=m.Xpm({type:c,selectors:[["ng-component"]],inputs:{canAdd:"canAdd",canEdit:"canEdit",canRemove:"canRemove",canView:"canView"},features:[m.qOj],decls:0,vars:0,template:function(l,r){},encapsulation:2}),c})()},5180:(P,M,a)=>{a.r(M),a.d(M,{RolesModule:()=>ae});var m=a(6733),v=a(6752),b=a(3072),e=a(755),E=a(2295),_=a(8513),f=a(4288),C=a(4039),x=a(163),A=a(9639),Z=a(2997),d=a(4447),c=a(1509),u=a(3226),l=a(1749),r=a(3690);let g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),O=(()=>{class n{get control(){return this.toggleForm.controls[this.controlName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-switch-button"]],inputs:{label:"label",controlName:"controlName",toggleForm:"toggleForm"},standalone:!0,features:[e.jDz],decls:5,vars:3,consts:[[1,"d-flex","gap-1",3,"formGroup"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"formControlName"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"input",2),e.qZA()()),2&t&&(e.Q6J("formGroup",o.toggleForm),e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("formControlName",o.controlName))},dependencies:[u.UX,u.Wl,u.JJ,u.JL,u.sg,u.u],changeDetection:0}),n})();var w=a(7557),J=a(4230);let y=(()=>{class n extends J.M{constructor(t){super(t),this.url=w.fL,this.urlId=w.pw}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var U=a(5893);let S=(()=>{class n{constructor(){this.translateService=(0,e.f3M)(C.sK)}transform(t,o,i){const p=[];return t.forEach(h=>{const T=p.findIndex(R=>R.model===h.content_type.model);-1!==T?(p[T].selected=o?.includes(h.codename),-1===p[T].permissions.findIndex(R=>R.codename===h.codename)&&p[T].permissions.push(h)):p.push({model:h?.content_type?.model,modelTranslate:this.translateService.instant(h?.content_type?.model),selected:o?.includes(h.codename),permissions:[h]})}),i?p.filter(h=>h.modelTranslate.toLowerCase().includes(i.toLowerCase())||h.model.toLowerCase().includes(i.toLowerCase())):p}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"groupPermission",type:n,pure:!0}),n})();function D(n,s){1&n&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"a\xf1adir rol"))," "))}function L(n,s){1&n&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"editar rol"))," "))}function N(n,s){1&n&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"ver rol"))," "))}function F(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"el nombre es requerido"))," "))}function V(n,s){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,F,4,5,"span",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.name.hasError("required"))}}function Q(n,s){if(1&n&&(e._UZ(0,"app-switch-button",24),e.ALo(1,"capitalize"),e.ALo(2,"translate")),2&n){const t=e.oxw();e.Q6J("label",e.lcZ(1,3,e.lcZ(2,5,"seleccionar todos")))("toggleForm",t.searchForm)("controlName","selected")}}function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e._UZ(1,"input",31),e.TgZ(2,"span",32),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.checkPermission(p))}),e._uU(3),e.ALo(4,"capitalize"),e.ALo(5,"translate"),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(1),e.Q6J("checked",null==t?null:t.selected),e.xp6(2),e.hij(" ",e.lcZ(4,2,e.lcZ(5,4,null==t?null:t.codename))," ")}}function G(n,s){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26)(2,"span",27),e._uU(3),e.ALo(4,"uppercase"),e.qZA()(),e.TgZ(5,"div",28),e.YNc(6,j,6,6,"div",29),e.qZA()()),2&n){const t=s.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,2,null==t?null:t.modelTranslate)),e.xp6(3),e.Q6J("ngForOf",null==t?null:t.permissions)}}function q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,"guardar"))," ")}}const Y=function(n,s){return{"is-invalid":n,"is-valid":s}},z=function(){return[]};let k=(()=>{class n extends r.u{constructor(t,o,i,p){super(),this._roleService=t,this._permissionService=o,this._cdRef=i,this.activeModal=p,this.form=new u.nJ({name:new u.p4({value:null,disabled:!1},[u.kI.required])}),this.searchForm=new u.nJ({model:new u.p4({value:null,disabled:!1}),selected:new u.p4({value:!1,disabled:!1})}),this.faAddressBook=f.hVn,this.allPermissions=[],this.mode=x.t.CREATE,this.viewModalMode=x.t}set viewMode(t){this.mode=t??x.t.VIEW,t===x.t.VIEW&&this.form.disable()}set element(t){this._roleService.get(t?.name).pipe((0,l.R)(this.observableDestroy$)).subscribe({next:o=>{this.role=o,this.form.patchValue({name:o?.name}),this.checkPermissions()}})}checkPermissions(){this.allPermissions?.length&&this.role&&this.allPermissions.filter(t=>this.role.permissions.some(o=>o===t.content_type.app_label+"."+t.codename)).forEach(t=>t.selected=!0)}getAllPermission(){this._permissionService.getElements({limit:200}).pipe((0,l.R)(this.observableDestroy$)).subscribe({next:t=>{this.allPermissions=t.results.map(o=>(o.selected=!1,o)),this.checkPermissions(),this._cdRef.detectChanges()}})}save(){this.activeModal.close({...this.form.value,uuid:this.form.value?.name,permissions:this.allPermissions.filter(t=>t.selected).map(t=>t.content_type.app_label+"-"+t.codename)})}checkPermission(t){t.selected=!t.selected}ngOnInit(){this.getAllPermission(),this.searchForm.get("selected").valueChanges.pipe((0,l.R)(this.observableDestroy$)).subscribe({next:t=>{this.allPermissions.forEach(o=>o.selected=t)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.N),e.Y36(y),e.Y36(e.sBO),e.Y36(E.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-role-modal"]],inputs:{viewMode:"viewMode",element:"element"},standalone:!0,features:[e._Bn([c.N,y]),e.qOj,e.jDz],decls:34,vars:34,consts:[[1,"modal-header"],[1,"modal-title","d-flex","align-items-center"],[1,"me-2",3,"icon"],["class","component-title",4,"ngIf"],["aria-label","Close","type","button",1,"btn-close",3,"click"],[1,"modal-body","d-flex","flex-column","justify-content-start","gap-3","p-3",3,"formGroup"],[1,"d-flex","flex-column","form-group","w-25"],[1,"control-label","mb-2"],["formControlName","name","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"divider"],[1,"d-flex","justify-content-between","gap-3","align-items-center",3,"formGroup"],[1,"d-flex","align-items-center","form-group","w-50"],[1,"control-label","w-25"],["formControlName","model","type","text",1,"form-control"],["class","w-50",3,"label","toggleForm","controlName",4,"ngIf"],[1,"d-flex","flex-column","gap-3","permission-container"],["class","d-flex flex-column gap-3 permission-group",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["class","btn btn-primary","type","button",3,"disabled","click",4,"ngIf"],[1,"component-title"],[1,"invalid-feedback"],[4,"ngIf"],[1,"w-50",3,"label","toggleForm","controlName"],[1,"d-flex","flex-column","gap-3","permission-group"],[1,"d-flex","justify-content-between","align-items-center","gap-3"],[1,"fw-bold"],[1,"d-flex","flex-wrap","align-items-center","gap-3"],["class","d-flex align-items-center w-23 gap-1",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","w-23","gap-1"],["type","checkbox",1,"cursor-pointer",3,"checked"],[1,"cursor-pointer",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._UZ(2,"fa-icon",2),e.YNc(3,D,4,5,"span",3),e.YNc(4,L,4,5,"span",3),e.YNc(5,N,4,5,"span",3),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.activeModal.close("close")}),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"capitalize"),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,V,2,1,"div",9),e.qZA(),e._UZ(15,"div",10),e.TgZ(16,"div",11)(17,"div",12)(18,"label",13),e._uU(19),e.ALo(20,"capitalize"),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",14),e.qZA(),e.YNc(23,Q,3,7,"app-switch-button",15),e.qZA(),e._UZ(24,"div",10),e.TgZ(25,"div",16),e.YNc(26,G,7,4,"div",17),e.ALo(27,"groupPermission"),e.qZA()(),e.TgZ(28,"div",18)(29,"button",19),e.NdJ("click",function(){return o.activeModal.close("close")}),e._uU(30),e.ALo(31,"capitalize"),e.ALo(32,"translate"),e.qZA(),e.YNc(33,q,4,6,"button",20),e.qZA()),2&t&&(e.xp6(2),e.Q6J("icon",o.faAddressBook),e.xp6(1),e.Q6J("ngIf",o.mode===o.viewModalMode.CREATE),e.xp6(1),e.Q6J("ngIf",o.mode===o.viewModalMode.EDIT),e.xp6(1),e.Q6J("ngIf",o.mode===o.viewModalMode.VIEW),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(3),e.hij(" ",e.lcZ(11,14,e.lcZ(12,16,"nombre")),": "),e.xp6(3),e.Q6J("ngClass",e.WLB(30,Y,o.form.controls.name.touched&&o.form.controls.name.errors,o.form.controls.name.valid)),e.xp6(1),e.Q6J("ngIf",o.form.controls.name.touched&&o.form.controls.name.errors),e.xp6(2),e.Q6J("formGroup",o.searchForm),e.xp6(3),e.hij(" ",e.lcZ(20,18,e.lcZ(21,20,"filtrar por")),": "),e.xp6(4),e.Q6J("ngIf",o.mode!==o.viewModalMode.VIEW),e.xp6(3),e.Q6J("ngForOf",e.Dn7(27,22,o.allPermissions,e.DdM(33,z),o.searchForm.get("model").value)),e.xp6(4),e.hij(" ",e.lcZ(31,26,e.lcZ(32,28,"cerrar"))," "),e.xp6(3),e.Q6J("ngIf",o.mode!==o.viewModalMode.VIEW))},dependencies:[_.uH,_.BN,C.aw,C.X$,Z.P,U.e,u.UX,u.Fj,u.JJ,u.JL,u.sg,u.u,m.mk,m.O5,O,m.sg,g,S,m.gd],styles:[".alert-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#c9effb;border-color:#b6e9fa}.alert-atlas-theme[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#9ee2f8}.alert-atlas-theme[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#043646}.badge-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9}.badge-atlas-theme[href][_ngcontent-%COMP%]:hover, .badge-atlas-theme[href][_ngcontent-%COMP%]:focus{color:#212529;background-color:#0c8fb9}.bg-atlas-theme[_ngcontent-%COMP%]{background-color:#10b4e9!important}a.bg-atlas-theme[_ngcontent-%COMP%]:hover, a.bg-atlas-theme[_ngcontent-%COMP%]:focus, button.bg-atlas-theme[_ngcontent-%COMP%]:hover, button.bg-atlas-theme[_ngcontent-%COMP%]:focus{background-color:#0c8fb9!important}.border-atlas-theme[_ngcontent-%COMP%]{border-color:#10b4e9!important}.btn-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#0d9ac7;border-color:#0c8fb9}.btn-atlas-theme[_ngcontent-%COMP%]:focus, .btn-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-atlas-theme.disabled[_ngcontent-%COMP%], .btn-atlas-theme[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#0c8fb9;border-color:#0b84aa}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9;background-color:transparent;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:focus, .btn-outline-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme.disabled[_ngcontent-%COMP%], .btn-outline-atlas-theme[_ngcontent-%COMP%]:disabled{color:#10b4e9;background-color:transparent}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.list-group-item-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#b6e9fa}.list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:focus{color:#085b76;background-color:#9ee2f8}.list-group-item-atlas-theme.list-group-item-action.active[_ngcontent-%COMP%]{color:#212529;background-color:#085b76;border-color:#085b76}.table-atlas-theme[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#b6e9fa}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover{background-color:#9ee2f8}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > th[_ngcontent-%COMP%]{background-color:#9ee2f8}.text-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9!important}a.text-atlas-theme[_ngcontent-%COMP%]:hover, a.text-atlas-theme[_ngcontent-%COMP%]:focus{color:#0c8fb9!important}.permission-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.permission-container[_ngcontent-%COMP%]   .permission-group[_ngcontent-%COMP%]{border:1px solid #b3b3b3;border-radius:8px;padding:1rem}"],changeDetection:0}),n})();var B=a(3472);function K(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.raiseDialog(i.selectedElements()[0],i.modalViewTypes.CREATE))}),e._UZ(1,"fa-icon",1),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faPlus),e.xp6(1),e.hij(" ",e.lcZ(3,2,e.lcZ(4,4,"a\xf1adir"))," ")}}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.raiseDialog(i.selectedElements()[0],i.modalViewTypes.VIEW))}),e._UZ(1,"fa-icon",1),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faEye),e.xp6(1),e.hij(" ",e.lcZ(3,2,e.lcZ(4,4,"ver"))," ")}}function $(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.raiseDialog(i.selectedElements()[0],i.modalViewTypes.EDIT))}),e._UZ(1,"fa-icon",1),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faPencil),e.xp6(1),e.hij(" ",e.lcZ(3,2,e.lcZ(4,4,"editar"))," ")}}function H(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeElements())}),e._UZ(1,"fa-icon",1),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faTrashCan),e.xp6(1),e.hij(" ",e.lcZ(3,2,e.lcZ(4,4,"eliminar"))," ")}}function X(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.selectElement(i))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("checked",o.isChecked(t))}}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fa-icon",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.raiseDialog(i,p.modalViewTypes.VIEW))}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("icon",t.faEye)("ngbTooltip",e.lcZ(1,2,"Ver rol"))}}function te(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fa-icon",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.raiseDialog(i,p.modalViewTypes.EDIT))}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("icon",t.faPencil)("ngbTooltip",e.lcZ(1,2,"Editar rol"))}}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fa-icon",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.removeElements(null==i?null:i.name))}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("icon",t.faTrashCan)("ngbTooltip",e.lcZ(1,2,"Eliminar rol"))}}function oe(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,X,1,1,"input",12),e.qZA(),e.TgZ(3,"td")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"div",13),e.YNc(11,ee,2,4,"fa-icon",14),e.YNc(12,te,2,4,"fa-icon",14),e.YNc(13,ne,2,4,"fa-icon",14),e.qZA()()()),2&n){const t=s.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.canView||o.canEdit||o.canRemove),e.xp6(3),e.Oqu(null==t?null:t.name),e.xp6(3),e.Oqu(null==t||null==t.permissions?null:t.permissions.length),e.xp6(3),e.Q6J("ngIf",o.canView),e.xp6(1),e.Q6J("ngIf",o.canEdit),e.xp6(1),e.Q6J("ngIf",o.canRemove)}}function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"ngb-pagination",17),e.NdJ("pageChange",function(i){e.CHM(t);const p=e.oxw();return e.KtG(p.changePagination(i))}),e.qZA()()}if(2&n){const t=e.oxw();let o,i,p;e.xp6(1),e.Q6J("collectionSize",null==(o=t.query())?null:o.total)("pageSize",null==(i=t.query())?null:i.limit)("page",null==(p=t.query())?null:p.page)("maxSize",5)}}let I=(()=>{class n extends A.p{constructor(t,o,i){super(t,o,i),this._roleService=t,this._toastService=o,this._modalService=i,this.faAddressBook=f.hVn}raiseDialog(t,o=x.t.VIEW){this.modalRef=this._modalService.open(k,{size:"lg",backdrop:"static"}),this.modalRef.componentInstance.viewMode=o,(o===x.t.VIEW||o===x.t.EDIT)&&(this.modalRef.componentInstance.element=t),this.closeModalAction(o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.N),e.Y36(B.k),e.Y36(E.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-role-table"]],standalone:!0,features:[e._Bn([c.N]),e.qOj,e.jDz],decls:30,vars:24,consts:[[1,"d-flex","flex-column","gap-3","mt-5"],[3,"icon"],[1,"component-title","p-2"],[3,"filters"],[1,"d-flex","justify-content-end","gap-1"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"table","table-striped"],["scope","col"],["type","checkbox",1,"cursor-pointer",3,"checked","click"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center p-2",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","cursor-pointer","type","checkbox",3,"checked","click",4,"ngIf"],[1,"icons-table-container"],["placement","left",3,"icon","ngbTooltip","click",4,"ngIf"],["placement","left",3,"icon","ngbTooltip","click"],[1,"d-flex","justify-content-center","p-2"],[3,"collectionSize","pageSize","page","maxSize","pageChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div"),e._UZ(2,"fa-icon",1),e.TgZ(3,"span",2),e._uU(4),e.ALo(5,"capitalize"),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"app-filters-chips",3),e.TgZ(8,"div",4),e.YNc(9,K,5,6,"button",5),e.YNc(10,W,5,6,"button",5),e.YNc(11,$,5,6,"button",5),e.YNc(12,H,5,6,"button",5),e.qZA(),e.TgZ(13,"table",6)(14,"thead")(15,"tr")(16,"th",7)(17,"input",8),e.NdJ("click",function(){return o.selectAllElement()}),e.qZA()(),e.TgZ(18,"th",7),e._uU(19),e.ALo(20,"titlecase"),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",7),e._uU(23),e.ALo(24,"titlecase"),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"th",7),e.qZA()(),e.TgZ(27,"tbody"),e.YNc(28,oe,14,6,"tr",9),e.qZA()(),e.YNc(29,le,2,4,"div",10),e.qZA()),2&t){let i,p,h,T;e.xp6(2),e.Q6J("icon",o.faAddressBook),e.xp6(2),e.Oqu(e.lcZ(5,12,e.lcZ(6,14,"roles de usuarios"))),e.xp6(3),e.Q6J("filters",o.filters()),e.xp6(2),e.Q6J("ngIf",o.canAdd),e.xp6(1),e.Q6J("ngIf",1===(null==(i=o.selectedElements())?null:i.length)&&o.canView),e.xp6(1),e.Q6J("ngIf",1===(null==(p=o.selectedElements())?null:p.length)&&o.canEdit),e.xp6(1),e.Q6J("ngIf",(null==(h=o.selectedElements())?null:h.length)>0&&o.canRemove),e.xp6(5),e.Q6J("checked",o.allElementsSelected()),e.xp6(2),e.Oqu(e.lcZ(20,16,e.lcZ(21,18,"rol"))),e.xp6(4),e.Oqu(e.lcZ(24,20,e.lcZ(25,22,"permisos"))),e.xp6(5),e.Q6J("ngForOf",o.elements()),e.xp6(1),e.Q6J("ngIf",null==(T=o.query())?null:T.total)}},dependencies:[_.uH,_.BN,C.aw,C.X$,Z.P,U.e,d.m,m.rS,m.O5,E.N9,m.sg,E._L],changeDetection:0}),n})();const se=[{path:"",component:(()=>{class n{constructor(t){this._authenticatedUserService=t,this.canAdd=!1,this.canEdit=!1,this.canView=!1,this.canRemove=!1}ngOnInit(){const t=this._authenticatedUserService.isUserAdmin();this.canAdd=this._authenticatedUserService.checkPermission("app.add_group")||t,this.canEdit=this._authenticatedUserService.checkPermission("app.change_group")||t,this.canView=this._authenticatedUserService.checkPermission("app.view_group")||t,this.canRemove=this._authenticatedUserService.checkPermission("app.delete_group")||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],decls:1,vars:4,consts:[[3,"canAdd","canRemove","canEdit","canView"]],template:function(t,o){1&t&&e._UZ(0,"app-role-table",0),2&t&&e.Q6J("canAdd",o.canAdd)("canRemove",o.canRemove)("canEdit",o.canEdit)("canView",o.canView)},dependencies:[I],changeDetection:0}),n})()}];let ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.Bz.forChild(se),v.Bz]}),n})(),ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,ie,I,k]}),n})()},163:(P,M,a)=>{a.d(M,{t:()=>m});var m=(()=>((m=m||{})[m.VIEW=0]="VIEW",m[m.CREATE=1]="CREATE",m[m.EDIT=2]="EDIT",m))()}}]);