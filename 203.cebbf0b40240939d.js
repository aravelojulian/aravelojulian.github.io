"use strict";(self.webpackChunkfact_front=self.webpackChunkfact_front||[]).push([[203],{2203:(R,P,a)=>{a.r(P),a.d(P,{AuthenticationModule:()=>No});var m=a(6752),i=a(3226),c=a(997),f=a(6733),p=a(932),C=a(8513),u=a(4039),d=a(1749),b=a(3690),N=a(3072),Z=a(6108),g=a(3472),O=a(2997),S=a(9741),F=a(1946),o=a(755),M=a(5893);function Q(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el usuario es requerido"))," "))}function j(n,e){if(1&n&&(o.TgZ(0,"div",22),o.YNc(1,Q,4,5,"span",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.username.hasError("required"))}}function B(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a es requerida"))," "))}function z(n,e){if(1&n&&(o.TgZ(0,"div",22),o.YNc(1,B,4,5,"span",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.password.hasError("required"))}}const E=function(n,e){return{"is-invalid":n,"is-valid":e}};function Y(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",10)(1,"div",11)(2,"label",12),o._uU(3),o.ALo(4,"titlecase"),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",13)(7,"div",14)(8,"div",15)(9,"span",16),o._UZ(10,"fa-icon",17),o.qZA()()(),o.TgZ(11,"input",18),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.login())}),o.ALo(12,"translate"),o.qZA(),o.YNc(13,j,2,1,"div",19),o.qZA()(),o.TgZ(14,"div",11)(15,"label",12),o._uU(16),o.ALo(17,"titlecase"),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"span",16)(23,"fa-icon",20),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.togglePasswordType())}),o.qZA()()()(),o.TgZ(24,"input",21),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.login())}),o.ALo(25,"translate"),o.qZA(),o.YNc(26,z,2,1,"div",19),o.qZA()()()}if(2&n){const t=o.oxw();o.xp6(1),o.Q6J("formGroup",t.form),o.xp6(2),o.hij(" ",o.lcZ(4,13,o.lcZ(5,15,"identificaci\xf3n")),": "),o.xp6(7),o.Q6J("icon",t.faUser),o.xp6(1),o.Q6J("ngClass",o.WLB(25,E,t.form.controls.username.touched&&t.form.controls.username.errors,t.form.controls.username.valid))("placeholder",o.lcZ(12,17,"Usuario, email o identificaci\xf3n")),o.xp6(2),o.Q6J("ngIf",t.form.controls.username.touched&&t.form.controls.username.errors),o.xp6(1),o.Q6J("formGroup",t.form),o.xp6(2),o.hij(" ",o.lcZ(17,19,o.lcZ(18,21,"contrase\xf1a")),": "),o.xp6(7),o.Q6J("icon",t.passwordIcon),o.xp6(1),o.Q6J("ngClass",o.WLB(28,E,t.form.controls.password.touched&&t.form.controls.password.errors,t.form.controls.password.valid))("placeholder",o.lcZ(25,23,"contrase\xf1a"))("type",t.inputPasswordType),o.xp6(2),o.Q6J("ngIf",t.form.controls.password.touched&&t.form.controls.password.errors)}}function G(n,e){if(1&n&&(o.TgZ(0,"option",30),o._uU(1),o.ALo(2,"capitalize"),o.qZA()),2&n){const t=e.$implicit;o.Q6J("ngValue",t),o.xp6(1),o.hij(" ",o.lcZ(2,2,null==t?null:t.name)," ")}}function W(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el negocio es requerido"))," "))}function K(n,e){if(1&n&&(o.TgZ(0,"div",22),o.YNc(1,W,4,5,"span",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.businessForm.controls.business.hasError("required"))}}function H(n,e){if(1&n&&(o.TgZ(0,"option",30),o._uU(1),o.ALo(2,"capitalize"),o.qZA()),2&n){const t=e.$implicit;o.Q6J("ngValue",t),o.xp6(1),o.hij(" ",o.lcZ(2,2,null==t?null:t.name)," ")}}function $(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el punto de venta es requerido"))," "))}function V(n,e){if(1&n&&(o.TgZ(0,"div",22),o.YNc(1,$,4,5,"span",23),o.qZA()),2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("ngIf",t.businessForm.controls.salePoint.hasError("salePoint"))}}function X(n,e){if(1&n&&(o.TgZ(0,"div",26)(1,"label",12),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"select",31),o.YNc(6,H,3,4,"option",28),o.qZA(),o.YNc(7,V,2,1,"div",19),o.qZA()),2&n){const t=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,4,o.lcZ(4,6,"seleccione una sucursal")),": "),o.xp6(3),o.Q6J("ngClass",o.WLB(8,E,t.businessForm.controls.salePoint.touched&&t.businessForm.controls.salePoint.errors,t.businessForm.controls.salePoint.valid)),o.xp6(1),o.Q6J("ngForOf",t.salesPoint),o.xp6(1),o.Q6J("ngIf",t.businessForm.controls.salePoint.touched&&t.businessForm.controls.salePoint.errors)}}function oo(n,e){if(1&n&&(o.TgZ(0,"div",24)(1,"span",25),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",26)(6,"label",12),o._uU(7),o.ALo(8,"capitalize"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"select",27),o.YNc(11,G,3,4,"option",28),o.qZA(),o.YNc(12,K,2,1,"div",19),o.qZA(),o.YNc(13,X,8,11,"div",29),o.qZA()),2&n){const t=o.oxw();o.Q6J("formGroup",t.businessForm),o.xp6(2),o.hij(" ",o.lcZ(3,7,o.lcZ(4,9,"Debe seleccionar un negocio y un punto de venta bajo el cu\xe1l generar\xe1 las facturas en el sistema."))," "),o.xp6(5),o.hij(" ",o.lcZ(8,11,o.lcZ(9,13,"seleccione un negocio")),": "),o.xp6(3),o.Q6J("ngClass",o.WLB(15,E,t.businessForm.controls.business.touched&&t.businessForm.controls.business.errors,t.businessForm.controls.business.valid)),o.xp6(1),o.Q6J("ngForOf",t.businesses),o.xp6(1),o.Q6J("ngIf",t.businessForm.controls.business.touched&&t.businessForm.controls.business.errors),o.xp6(1),o.Q6J("ngIf",t.businessForm.controls.business.valid)}}function to(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.login())}),o._uU(1),o.ALo(2,"titlecase"),o.ALo(3,"translate"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("disabled",t.form.invalid||t.isLoading),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"iniciar sesi\xf3n"))," ")}}function no(n,e){1&n&&(o.TgZ(0,"button",33),o._uU(1),o.ALo(2,"titlecase"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"activar cuenta"))," "))}function eo(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.selectBusiness())}),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("disabled",t.businessForm.invalid),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"acceder al sistema"))," ")}}function so(n,e){1&n&&(o.TgZ(0,"div",34)(1,"span",35),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA()()),2&n&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,o.lcZ(4,3,"olvid\xe9 mi contrase\xf1a"))," "))}let io=(()=>{class n extends b.u{constructor(t,s,l,v,x,Qo,jo,Bo){super(),this._salesPointService=t,this._authService=s,this._authenticatedUserService=l,this._userService=v,this._toastService=x,this._router=Qo,this._zone=jo,this._cdRef=Bo,this.isOnlyOneBusiness=!1,this.isLoading=!1,this.inputPasswordType="password",this.faUser=c.ILF,this.passwordIcon=c.Mdf,this.showBusiness=!1,this.businesses=[],this.salesPoint=[],this.form=new i.nJ({username:new i.p4({value:null,disabled:!1},[i.kI.required]),password:new i.p4({value:null,disabled:!1},[i.kI.required])}),this.businessForm=new i.nJ({business:new i.p4({value:null,disabled:!1},[i.kI.required]),salePoint:new i.p4({value:null,disabled:!1},[i.kI.required])})}goToDashboard(){this._zone.run(()=>{this._router.navigate(["back-office/dashboard"]).then()})}getUserProfile(){this._userService.getUserProfile().pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this._authenticatedUserService.setAuthenticatedUser(t),t?.groups?.some(s=>"admin"===s||"Admin"===s)?(t?.business[0]&&this._authenticatedUserService.setBusiness(t?.business[0],null).then(),this.goToDashboard()):(this.businesses=t?.business,this.isOnlyOneBusiness=1===t?.business?.length,this.isOnlyOneBusiness?this.businessForm.get("business").setValue(this.businesses[0]):this.showBusiness=!0,t?.user_permissions?.length&&this._authenticatedUserService.setPermissions(t?.user_permissions),this._cdRef.detectChanges())}})}changeBusiness(){this.businessForm.get("business").valueChanges.pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this.getSalesPointByBusiness(t)}})}getSalesPointByBusiness(t){this._salesPointService.getElements({limit:100},{business:t?.name}).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:s=>{this.salesPoint=s?.results,this.isOnlyOneBusiness&&1===this.salesPoint.length?(this.businessForm.get("salePoint").setValue(this.salesPoint[0]),this.selectBusiness()):this.showBusiness=!0,this._cdRef.detectChanges()}})}selectBusiness(){this._authenticatedUserService.setBusiness(this.businessForm.value?.business,this.businessForm.value?.salePoint).then(()=>{this.goToDashboard()})}togglePasswordType(){this.passwordIcon="password"===this.inputPasswordType?c.Aq:c.Mdf,this.inputPasswordType="password"===this.inputPasswordType?"text":"password"}login(){if(this.form.valid){this.form.disable(),this.isLoading=!0;const t={...this.form.value};this._authService.login(t).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:s=>{this._authenticatedUserService.updateToken(s?.refresh_token),this._authenticatedUserService.setToken(s?.access_token).then(()=>{this._toastService.showToast((0,p.J)("Usuario autenticado con \xe9xito"),g.p.SUCCESS),this.getUserProfile()})},error:()=>{this._toastService.showToast((0,p.J)("No se ha podido autenticar el usuario, compruebe sus credenciales e int\xe9ntelo de nuevo"),g.p.DANGER),this.form.enable(),this.isLoading=!1}})}}ngOnInit(){this.changeBusiness()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(F.y),o.Y36(Z.$),o.Y36(N.G),o.Y36(S.K),o.Y36(g.k),o.Y36(m.F0),o.Y36(o.R0b),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[o._Bn([S.K,F.y]),o.qOj,o.jDz],decls:11,vars:6,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100","authentication"],[1,"d-flex","flex-column","align-content-center","align-content-center"],[1,"login-card","d-flex","flex-column","px-3","py-4","gap-3"],[1,"d-flex","justify-content-center"],["alt","logo","src","assets/images/logos/logo.png",1,"w-100"],["class","d-flex flex-column gap-3",4,"ngIf"],["class","d-flex flex-column gap-3",3,"formGroup",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-secondary","routerLink","/authentication/activate-account",4,"ngIf"],["class","d-flex justify-content-end",4,"ngIf"],[1,"d-flex","flex-column","gap-3"],[1,"d-flex","flex-column","form-group",3,"formGroup"],[1,"control-label"],[1,"input-group","mt-2"],[1,"input-group-addon"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"icon"],["formControlName","username","type","text",1,"form-control",3,"ngClass","placeholder","keydown.enter"],["class","invalid-feedback",4,"ngIf"],[3,"icon","click"],["formControlName","password",1,"form-control",3,"ngClass","placeholder","type","keydown.enter"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","flex-column","gap-3",3,"formGroup"],[1,"text-center"],[1,"d-flex","flex-column","form-group"],["formControlName","business",1,"form-control",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex flex-column form-group",4,"ngIf"],[3,"ngValue"],["formControlName","salePoint",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled","click"],["routerLink","/authentication/activate-account",1,"btn","btn-outline-secondary"],[1,"d-flex","justify-content-end"],["routerLink","/authentication/forgot-password",1,"cursor-pointer","hover-primary"]],template:function(t,s){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.YNc(5,Y,27,31,"div",5),o.YNc(6,oo,14,18,"div",6),o.YNc(7,to,4,6,"button",7),o.YNc(8,no,4,5,"button",8),o.YNc(9,eo,4,6,"button",7),o.YNc(10,so,5,5,"div",9),o.qZA()()()),2&t&&(o.xp6(5),o.Q6J("ngIf",!s.showBusiness),o.xp6(1),o.Q6J("ngIf",s.showBusiness),o.xp6(1),o.Q6J("ngIf",!s.showBusiness),o.xp6(1),o.Q6J("ngIf",!s.showBusiness),o.xp6(1),o.Q6J("ngIf",s.showBusiness),o.xp6(1),o.Q6J("ngIf",!s.showBusiness))},dependencies:[i.UX,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,u.aw,u.X$,f.rS,C.uH,C.BN,f.mk,f.O5,O.P,M.e,f.sg,m.rH],styles:[".authentication[_ngcontent-%COMP%]{background-color:#b3b3b3;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(216,960,470)'%3E%3Cstop offset='0' stop-color='%23B3B3B3'/%3E%3Cstop offset='1' stop-color='%2310B4E9'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='348' height='290' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.08'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.alert-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#c9effb;border-color:#b6e9fa}.alert-atlas-theme[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#9ee2f8}.alert-atlas-theme[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#043646}.badge-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9}.badge-atlas-theme[href][_ngcontent-%COMP%]:hover, .badge-atlas-theme[href][_ngcontent-%COMP%]:focus{color:#212529;background-color:#0c8fb9}.bg-atlas-theme[_ngcontent-%COMP%]{background-color:#10b4e9!important}a.bg-atlas-theme[_ngcontent-%COMP%]:hover, a.bg-atlas-theme[_ngcontent-%COMP%]:focus, button.bg-atlas-theme[_ngcontent-%COMP%]:hover, button.bg-atlas-theme[_ngcontent-%COMP%]:focus{background-color:#0c8fb9!important}.border-atlas-theme[_ngcontent-%COMP%]{border-color:#10b4e9!important}.btn-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#0d9ac7;border-color:#0c8fb9}.btn-atlas-theme[_ngcontent-%COMP%]:focus, .btn-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-atlas-theme.disabled[_ngcontent-%COMP%], .btn-atlas-theme[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#0c8fb9;border-color:#0b84aa}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9;background-color:transparent;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:focus, .btn-outline-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme.disabled[_ngcontent-%COMP%], .btn-outline-atlas-theme[_ngcontent-%COMP%]:disabled{color:#10b4e9;background-color:transparent}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.list-group-item-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#b6e9fa}.list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:focus{color:#085b76;background-color:#9ee2f8}.list-group-item-atlas-theme.list-group-item-action.active[_ngcontent-%COMP%]{color:#212529;background-color:#085b76;border-color:#085b76}.table-atlas-theme[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#b6e9fa}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover{background-color:#9ee2f8}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > th[_ngcontent-%COMP%]{background-color:#9ee2f8}.text-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9!important}a.text-atlas-theme[_ngcontent-%COMP%]:hover, a.text-atlas-theme[_ngcontent-%COMP%]:focus{color:#0c8fb9!important}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{box-shadow:0 0 10px -4px #000;max-width:360px;min-width:360px;border-radius:8px;background-color:#fff}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0;width:45px}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .information-text[_ngcontent-%COMP%]{font-size:13px;text-align:center;color:gray}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .password-security[_ngcontent-%COMP%]{width:33%;height:8px;border:1px solid #b3b3b3}"],changeDetection:0}),n})();var T=a(4288),k=a(2295),_=(()=>((_=_||{})[_.STEP_1=0]="STEP_1",_[_.STEP_2=1]="STEP_2",_))(),y=a(2845),lo=a(7557);function ao(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el correo electr\xf3nico es requerido"))," "))}function ro(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el formato de correo electr\xf3nico es incorrecto"))," "))}function co(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,ao,4,5,"span",24),o.YNc(2,ro,4,5,"span",24),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.formCode.controls.email.hasError("required")),o.xp6(1),o.Q6J("ngIf",t.formCode.controls.email.hasError("pattern"))}}const A=function(n,e){return{"is-invalid":n,"is-valid":e}};function po(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",14)(1,"label",15),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",16)(6,"div",17)(7,"div",18)(8,"span",19),o._UZ(9,"fa-icon",20),o.qZA()()(),o.TgZ(10,"input",21),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.checkCode())}),o.ALo(11,"capitalize"),o.ALo(12,"translate"),o.qZA(),o.YNc(13,co,3,2,"div",22),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,5,o.lcZ(4,7,"correo electr\xf3nico")),": "),o.xp6(7),o.Q6J("icon",t.faEnvelope),o.xp6(1),o.Q6J("ngClass",o.WLB(13,A,t.formCode.controls.email.touched&&t.formCode.controls.email.errors,t.formCode.controls.email.valid))("placeholder",o.lcZ(11,9,o.lcZ(12,11,"correo electr\xf3nico"))),o.xp6(3),o.Q6J("ngIf",t.formCode.controls.email.touched&&t.formCode.controls.email.errors)}}function go(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el c\xf3digo es requerido"))," "))}function uo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el formato del c\xf3digo es incorrecto"))," "))}function fo(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,go,4,5,"span",24),o.YNc(2,uo,4,5,"span",24),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.formCode.controls.code.hasError("required")),o.xp6(1),o.Q6J("ngIf",t.formCode.controls.code.hasError("pattern"))}}function _o(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",14)(1,"label",15),o._uU(2),o.ALo(3,"titlecase"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",16)(6,"div",17)(7,"div",18)(8,"span",19),o._UZ(9,"fa-icon",20),o.qZA()()(),o.TgZ(10,"input",25),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.checkCode())}),o.ALo(11,"titlecase"),o.ALo(12,"translate"),o.qZA(),o.YNc(13,fo,3,2,"div",22),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,5,o.lcZ(4,7,"c\xf3digo")),": "),o.xp6(7),o.Q6J("icon",t.faLock),o.xp6(1),o.Q6J("ngClass",o.WLB(13,A,t.formCode.controls.code.touched&&t.formCode.controls.code.errors,t.formCode.controls.code.valid))("placeholder",o.lcZ(11,9,o.lcZ(12,11,"c\xf3digo"))),o.xp6(3),o.Q6J("ngIf",t.formCode.controls.code.touched&&t.formCode.controls.code.errors)}}function mo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a es requerida"))," "))}function ho(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a no es segura"))," "))}function Co(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,mo,4,5,"span",24),o.YNc(2,ho,4,5,"span",24),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.formPassword.controls.password.hasError("required")),o.xp6(1),o.Q6J("ngIf",t.formPassword.controls.password.hasError("pattern"))}}function bo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a es requerida"))," "))}function vo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a no es segura"))," "))}function xo(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,bo,4,5,"span",24),o.YNc(2,vo,4,5,"span",24),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.formPassword.controls.repeat.hasError("required")),o.xp6(1),o.Q6J("ngIf",t.formPassword.controls.repeat.hasError("pattern"))}}const L=function(n,e,t){return{"bg-danger":n,"bg-warning":e,"bg-success":t}},I=function(n,e){return{"bg-warning":n,"bg-success":e}},D=function(n){return{"bg-success":n}};function Po(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"span",27),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",28)(6,"label",15),o._uU(7),o.ALo(8,"titlecase"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",16)(11,"div",17)(12,"div",18)(13,"span",19)(14,"fa-icon",29),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.togglePasswordType())}),o.qZA()()()(),o.TgZ(15,"input",30),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.validateAccount())}),o.ALo(16,"translate"),o.qZA(),o.YNc(17,Co,3,2,"div",22),o.qZA(),o.TgZ(18,"div",31),o._UZ(19,"span",32)(20,"span",32)(21,"span",32),o.qZA()(),o.TgZ(22,"div",33)(23,"label",15),o._uU(24),o.ALo(25,"capitalize"),o.ALo(26,"translate"),o.qZA(),o.TgZ(27,"div",16)(28,"div",17)(29,"div",18)(30,"span",19)(31,"fa-icon",29),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.togglePasswordType())}),o.qZA()()()(),o.TgZ(32,"input",34),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.validateAccount())}),o.ALo(33,"translate"),o.qZA(),o.YNc(34,xo,3,2,"div",22),o.qZA(),o.TgZ(35,"div",31),o._UZ(36,"span",32)(37,"span",32)(38,"span",32),o.qZA()()()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.formPassword),o.xp6(2),o.hij(" ",o.lcZ(3,20,o.lcZ(4,22,"Por favor, introduzca una contrase\xf1a."))," "),o.xp6(5),o.hij(" ",o.lcZ(8,24,o.lcZ(9,26,"contrase\xf1a")),": "),o.xp6(7),o.Q6J("icon",t.passwordIcon),o.xp6(1),o.Q6J("placeholder",o.lcZ(16,28,"contrase\xf1a"))("type",t.inputPasswordType)("ngClass",o.WLB(36,A,t.formPassword.controls.password.touched&&t.formPassword.controls.password.errors,t.formPassword.controls.password.valid)),o.xp6(2),o.Q6J("ngIf",t.formPassword.controls.password.touched&&t.formPassword.controls.password.errors),o.xp6(2),o.Q6J("ngClass",o.kEZ(39,L,t.securityPassword===t.PASSWORD_SECURITIES.WEAK,t.securityPassword===t.PASSWORD_SECURITIES.MEDIUM,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.WLB(43,I,t.securityPassword===t.PASSWORD_SECURITIES.MEDIUM,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.VKq(46,D,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(3),o.hij(" ",o.lcZ(25,30,o.lcZ(26,32,"confirma la contrase\xf1a")),": "),o.xp6(7),o.Q6J("icon",t.passwordIcon),o.xp6(1),o.Q6J("placeholder",o.lcZ(33,34,"contrase\xf1a"))("type",t.inputPasswordType)("ngClass",o.WLB(48,A,t.formPassword.controls.repeat.touched&&t.formPassword.controls.repeat.errors,t.formPassword.controls.repeat.valid)),o.xp6(2),o.Q6J("ngIf",t.formPassword.controls.repeat.touched&&t.formPassword.controls.repeat.errors),o.xp6(2),o.Q6J("ngClass",o.kEZ(51,L,t.securityRepeat===t.PASSWORD_SECURITIES.WEAK,t.securityRepeat===t.PASSWORD_SECURITIES.MEDIUM,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.WLB(55,I,t.securityRepeat===t.PASSWORD_SECURITIES.MEDIUM,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.VKq(58,D,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG))}}function Eo(n,e){1&n&&(o.TgZ(0,"ngb-alert",35),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.Q6J("dismissible",!1),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"las contrase\xf1as no coinciden"))," "))}function yo(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",36),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.checkCode())}),o._uU(1),o.ALo(2,"titlecase"),o.ALo(3,"translate"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("disabled",t.formCode.invalid),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"comprobar c\xf3digo"))," ")}}function Ao(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",36),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.validateAccount())}),o._uU(1),o.ALo(2,"titlecase"),o.ALo(3,"translate"),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("disabled",t.formPassword.invalid),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"activar cuenta"))," ")}}var r=(()=>((r=r||{})[r.WEAK=0]="WEAK",r[r.MEDIUM=1]="MEDIUM",r[r.STRONG=2]="STRONG",r))(),h=(()=>((h=h||{})[h.STEP_1=0]="STEP_1",h[h.STEP_2=1]="STEP_2",h))();let wo=(()=>{class n extends b.u{constructor(t,s,l,v,x){super(),this._toastService=t,this._router=s,this._zone=l,this._authenticationService=v,this._cdRef=x,this.inputPasswordType="password",this.faEnvelope=T.FU$,this.faLock=T.byT,this.passwordIcon=c.Mdf,this.securityPassword=r.WEAK,this.securityRepeat=r.WEAK,this.PASSWORD_SECURITIES=r,this.currentStep=h.STEP_1,this.STEPS=h,this.formCode=new i.nJ({email:new i.p4({value:null,disabled:!1},[i.kI.required,i.kI.pattern(y.CU)]),code:new i.p4({value:null,disabled:!1},[i.kI.required,i.kI.pattern(y.cS)])}),this.formPassword=new i.nJ({activation_token:new i.p4({value:null,disabled:!1},[i.kI.required]),password:new i.p4({value:null,disabled:!1},[i.kI.required]),repeat:new i.p4({value:null,disabled:!1},[i.kI.required])},this.matchPasswords)}matchPasswords(t){const s=t.get("password"),l=t.get("repeat");return s.value!==l.value?{passwordMismatch:!0}:null}checkSecurity(t){return y.O3.test(t)?r.STRONG:t?.length>=8&&(t?.match(/[A-Za-z]/)||[]).length>0?r.MEDIUM:r.WEAK}checkPasswordSecurity(){this.formPassword.get("password").valueChanges.pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this.securityPassword=this.checkSecurity(t)}}),this.formPassword.get("repeat").valueChanges.pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this.securityRepeat=this.checkSecurity(t)}})}togglePasswordType(){this.passwordIcon="password"===this.inputPasswordType?c.Aq:c.Mdf,this.inputPasswordType="password"===this.inputPasswordType?"text":"password"}checkCode(){this.formCode.valid&&this._authenticationService.checkCode({...this.formCode.value}).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this._toastService.showToast((0,p.J)("C\xf3digo comprobado con \xe9xito"),g.p.SUCCESS),this.formPassword.get("activation_token").setValue(t.activation_token),this.currentStep=h.STEP_2,this._cdRef.detectChanges()},error:()=>{this._toastService.showToast((0,p.J)("Error al comprobar el c\xf3digo"),g.p.DANGER)}})}validateAccount(){this.formPassword.valid&&this._authenticationService.validateAccount({activation_token:this.formPassword.value?.activation_token,password:this.formPassword.value?.password,client_id:lo.Cx}).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:()=>{this._toastService.showToast((0,p.J)("Usuario activado con \xe9xito"),g.p.SUCCESS),this._zone.run(()=>{this._router.navigate(["authentication"]).then()})},error:()=>{this._toastService.showToast((0,p.J)("Error al activar el usuario"),g.p.DANGER)}})}ngOnInit(){this.checkPasswordSecurity()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(g.k),o.Y36(m.F0),o.Y36(o.R0b),o.Y36(Z.$),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-activate-account"]],standalone:!0,features:[o.qOj,o.jDz],decls:22,vars:17,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100","authentication"],[1,"d-flex","flex-column","align-content-center","align-content-center"],[1,"login-card","d-flex","flex-column","px-3","py-4","gap-3"],[1,"d-flex","justify-content-center"],["alt","logo","src","assets/images/logos/logo.png",1,"w-100"],[1,"d-flex","flex-column","gap-3"],[1,"d-flex","flex-column","gap-3",3,"formGroup"],["class","d-flex flex-column form-group",4,"ngIf"],["class","d-flex flex-column mt-3",3,"formGroup",4,"ngIf"],["class","mt-3 mb-0 py-1","type","danger",3,"dismissible",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["routerLink","/authentication/login",1,"btn","btn-outline-secondary"],[1,"d-flex","justify-content-end"],["routerLink","/authentication/forgot-password",1,"cursor-pointer","hover-primary"],[1,"d-flex","flex-column","form-group"],[1,"control-label"],[1,"input-group","mt-2"],[1,"input-group-addon"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"icon"],["formControlName","email","type","text",1,"form-control",3,"ngClass","placeholder","keydown.enter"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["formControlName","code",1,"form-control",3,"ngClass","placeholder","keydown.enter"],[1,"d-flex","flex-column","mt-3",3,"formGroup"],[1,"information-text"],[1,"d-flex","flex-column","form-group","mt-3"],[3,"icon","click"],["formControlName","password",1,"form-control",3,"placeholder","type","ngClass","keydown.enter"],[1,"d-flex","mt-1"],[1,"password-security",3,"ngClass"],[1,"d-flex","flex-column","mt-3"],["formControlName","repeat",1,"form-control",3,"placeholder","type","ngClass","keydown.enter"],["type","danger",1,"mt-3","mb-0","py-1",3,"dismissible"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(t,s){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5)(6,"div",6),o.YNc(7,po,14,16,"div",7),o.YNc(8,_o,14,16,"div",7),o.qZA(),o.YNc(9,Po,39,60,"div",8),o.YNc(10,Eo,4,6,"ngb-alert",9),o.YNc(11,yo,4,6,"button",10),o.YNc(12,Ao,4,6,"button",10),o.TgZ(13,"button",11),o._uU(14),o.ALo(15,"titlecase"),o.ALo(16,"translate"),o.qZA(),o.TgZ(17,"div",12)(18,"span",13),o._uU(19),o.ALo(20,"capitalize"),o.ALo(21,"translate"),o.qZA()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",s.formCode),o.xp6(1),o.Q6J("ngIf",s.currentStep===s.STEPS.STEP_1),o.xp6(1),o.Q6J("ngIf",s.currentStep===s.STEPS.STEP_1),o.xp6(1),o.Q6J("ngIf",s.currentStep===s.STEPS.STEP_2),o.xp6(1),o.Q6J("ngIf",s.formPassword.controls.repeat.touched&&!s.formPassword.controls.password.errors&&!s.formPassword.controls.repeat.errors&&s.formPassword.hasError("passwordMismatch")),o.xp6(1),o.Q6J("ngIf",s.currentStep===s.STEPS.STEP_1),o.xp6(1),o.Q6J("ngIf",s.currentStep===s.STEPS.STEP_2),o.xp6(2),o.hij(" ",o.lcZ(15,9,o.lcZ(16,11,"iniciar sesi\xf3n"))," "),o.xp6(5),o.hij(" ",o.lcZ(20,13,o.lcZ(21,15,"olvid\xe9 mi contrase\xf1a"))," "))},dependencies:[u.aw,u.X$,f.rS,O.P,M.e,C.uH,C.BN,f.mk,i.UX,i.Fj,i.JJ,i.JL,i.sg,i.u,f.O5,m.rH,k.xm],styles:[".authentication[_ngcontent-%COMP%]{background-color:#b3b3b3;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(216,960,470)'%3E%3Cstop offset='0' stop-color='%23B3B3B3'/%3E%3Cstop offset='1' stop-color='%2310B4E9'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='348' height='290' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.08'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.alert-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#c9effb;border-color:#b6e9fa}.alert-atlas-theme[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#9ee2f8}.alert-atlas-theme[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#043646}.badge-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9}.badge-atlas-theme[href][_ngcontent-%COMP%]:hover, .badge-atlas-theme[href][_ngcontent-%COMP%]:focus{color:#212529;background-color:#0c8fb9}.bg-atlas-theme[_ngcontent-%COMP%]{background-color:#10b4e9!important}a.bg-atlas-theme[_ngcontent-%COMP%]:hover, a.bg-atlas-theme[_ngcontent-%COMP%]:focus, button.bg-atlas-theme[_ngcontent-%COMP%]:hover, button.bg-atlas-theme[_ngcontent-%COMP%]:focus{background-color:#0c8fb9!important}.border-atlas-theme[_ngcontent-%COMP%]{border-color:#10b4e9!important}.btn-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#0d9ac7;border-color:#0c8fb9}.btn-atlas-theme[_ngcontent-%COMP%]:focus, .btn-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-atlas-theme.disabled[_ngcontent-%COMP%], .btn-atlas-theme[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#0c8fb9;border-color:#0b84aa}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9;background-color:transparent;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:focus, .btn-outline-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme.disabled[_ngcontent-%COMP%], .btn-outline-atlas-theme[_ngcontent-%COMP%]:disabled{color:#10b4e9;background-color:transparent}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.list-group-item-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#b6e9fa}.list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:focus{color:#085b76;background-color:#9ee2f8}.list-group-item-atlas-theme.list-group-item-action.active[_ngcontent-%COMP%]{color:#212529;background-color:#085b76;border-color:#085b76}.table-atlas-theme[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#b6e9fa}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover{background-color:#9ee2f8}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > th[_ngcontent-%COMP%]{background-color:#9ee2f8}.text-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9!important}a.text-atlas-theme[_ngcontent-%COMP%]:hover, a.text-atlas-theme[_ngcontent-%COMP%]:focus{color:#0c8fb9!important}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{box-shadow:0 0 10px -4px #000;max-width:360px;min-width:360px;border-radius:8px;background-color:#fff}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0;width:45px}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .information-text[_ngcontent-%COMP%]{font-size:13px;text-align:center;color:gray}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .password-security[_ngcontent-%COMP%]{width:33%;height:8px;border:1px solid #b3b3b3}"],changeDetection:0}),n})();function Zo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el correo electr\xf3nico es requerido"))," "))}function Oo(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el formato de correo electr\xf3nico es incorrecto"))," "))}function Mo(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,Zo,4,5,"span",22),o.YNc(2,Oo,4,5,"span",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.email.hasError("required")),o.xp6(1),o.Q6J("ngIf",t.form.controls.email.hasError("pattern"))}}const w=function(n,e){return{"is-invalid":n,"is-valid":e}};function To(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",9)(1,"span",10),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",11)(6,"label",12),o._uU(7),o.ALo(8,"titlecase"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",13)(11,"div",14)(12,"div",15)(13,"span",16),o._UZ(14,"fa-icon",17),o.qZA()()(),o.TgZ(15,"input",18),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.sendCode())}),o.ALo(16,"translate"),o.qZA(),o.YNc(17,Mo,3,2,"div",19),o.qZA()(),o.TgZ(18,"button",20),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.sendCode())}),o._uU(19),o.ALo(20,"titlecase"),o.ALo(21,"translate"),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,8,o.lcZ(4,10,"Introduzca su correo electr\xf3nico y le ser\xe1 enviado un c\xf3digo para cambiar su contrase\xf1a."))," "),o.xp6(5),o.hij(" ",o.lcZ(8,12,o.lcZ(9,14,"correo electr\xf3nico")),": "),o.xp6(7),o.Q6J("icon",t.faEnvelope),o.xp6(1),o.Q6J("placeholder",o.lcZ(16,16,"usuario"))("ngClass",o.WLB(22,w,t.form.controls.email.touched&&t.form.controls.email.errors,t.form.controls.email.valid)),o.xp6(2),o.Q6J("ngIf",t.form.controls.email.touched&&t.form.controls.email.errors),o.xp6(1),o.Q6J("disabled",t.form.get("email").invalid),o.xp6(1),o.hij(" ",o.lcZ(20,18,o.lcZ(21,20,"enviar c\xf3digo"))," ")}}function So(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"el c\xf3digo es requerido"))," "))}function Fo(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,So,4,5,"span",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.pin.hasError("required"))}}function ko(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a es requerida"))," "))}function Lo(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,ko,4,5,"span",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.password.hasError("required"))}}function Io(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"la contrase\xf1a es requerida"))," "))}function Do(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,Io,4,5,"span",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.repeat.hasError("required"))}}function Uo(n,e){1&n&&(o.TgZ(0,"ngb-alert",34),o._uU(1),o.ALo(2,"capitalize"),o.ALo(3,"translate"),o.qZA()),2&n&&(o.Q6J("dismissible",!1),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,"las contrase\xf1as no coinciden"))," "))}const U=function(n,e,t){return{"bg-danger":n,"bg-warning":e,"bg-success":t}},J=function(n,e){return{"bg-warning":n,"bg-success":e}},q=function(n){return{"bg-success":n}};function Jo(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",9)(1,"span",10),o._uU(2),o.ALo(3,"capitalize"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",23)(6,"label",12),o._uU(7),o.ALo(8,"titlecase"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",13)(11,"div",14)(12,"div",15)(13,"span",16),o._UZ(14,"fa-icon",17),o.qZA()()(),o.TgZ(15,"input",24),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.changePassWord())}),o.ALo(16,"translate"),o.qZA(),o.YNc(17,Fo,2,1,"div",19),o.qZA()(),o.TgZ(18,"span",25),o._uU(19),o.ALo(20,"capitalize"),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"div",11)(23,"label",12),o._uU(24),o.ALo(25,"titlecase"),o.ALo(26,"translate"),o.qZA(),o.TgZ(27,"div",13)(28,"div",14)(29,"div",15)(30,"span",16)(31,"fa-icon",26),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.togglePasswordType())}),o.qZA()()()(),o.TgZ(32,"input",27),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.changePassWord())}),o.ALo(33,"translate"),o.qZA(),o.YNc(34,Lo,2,1,"div",19),o.qZA(),o.TgZ(35,"div",28),o._UZ(36,"span",29)(37,"span",29)(38,"span",29),o.qZA()(),o.TgZ(39,"div",9)(40,"label",12),o._uU(41),o.ALo(42,"capitalize"),o.ALo(43,"translate"),o.qZA(),o.TgZ(44,"div",13)(45,"div",14)(46,"div",15)(47,"span",16)(48,"fa-icon",26),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.togglePasswordType())}),o.qZA()()()(),o.TgZ(49,"input",30),o.NdJ("keydown.enter",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.changePassWord())}),o.ALo(50,"translate"),o.qZA(),o.YNc(51,Do,2,1,"div",19),o.qZA(),o.TgZ(52,"div",28),o._UZ(53,"span",29)(54,"span",29)(55,"span",29),o.qZA()(),o.YNc(56,Uo,4,6,"ngb-alert",31),o.TgZ(57,"button",20),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.changePassWord())}),o._uU(58),o.ALo(59,"titlecase"),o.ALo(60,"translate"),o.qZA(),o.TgZ(61,"div",32)(62,"span",33),o.NdJ("click",function(){o.CHM(t);const l=o.oxw();return o.KtG(l.sendCode())}),o._uU(63),o.ALo(64,"capitalize"),o.ALo(65,"translate"),o.qZA()()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,29,o.lcZ(4,31,"Introduzca el c\xf3digo que ha sido enviado a su correo electr\xf3nico."))," "),o.xp6(5),o.hij(" ",o.lcZ(8,33,o.lcZ(9,35,"c\xf3digo")),": "),o.xp6(7),o.Q6J("icon",t.faShield),o.xp6(1),o.Q6J("ngClass",o.WLB(63,w,t.form.controls.pin.touched&&t.form.controls.pin.errors,t.form.controls.pin.valid))("placeholder",o.lcZ(16,37,"c\xf3digo")),o.xp6(2),o.Q6J("ngIf",t.form.controls.pin.touched&&t.form.controls.pin.errors),o.xp6(2),o.hij(" ",o.lcZ(20,39,o.lcZ(21,41,"Por favor, introduzca una nueva contrase\xf1a."))," "),o.xp6(5),o.hij(" ",o.lcZ(25,43,o.lcZ(26,45,"contrase\xf1a")),": "),o.xp6(7),o.Q6J("icon",t.passwordIcon),o.xp6(1),o.Q6J("type",t.inputPasswordType)("ngClass",o.WLB(66,w,t.form.controls.password.touched&&t.form.controls.password.errors,t.form.controls.password.valid))("placeholder",o.lcZ(33,47,"contrase\xf1a")),o.xp6(2),o.Q6J("ngIf",t.form.controls.password.touched&&t.form.controls.password.errors),o.xp6(2),o.Q6J("ngClass",o.kEZ(69,U,t.securityPassword===t.PASSWORD_SECURITIES.WEAK,t.securityPassword===t.PASSWORD_SECURITIES.MEDIUM,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.WLB(73,J,t.securityPassword===t.PASSWORD_SECURITIES.MEDIUM,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.VKq(76,q,t.securityPassword===t.PASSWORD_SECURITIES.STRONG)),o.xp6(3),o.hij(" ",o.lcZ(42,49,o.lcZ(43,51,"confirma la contrase\xf1a")),": "),o.xp6(7),o.Q6J("icon",t.passwordIcon),o.xp6(1),o.Q6J("type",t.inputPasswordType)("ngClass",o.WLB(78,w,t.form.controls.repeat.touched&&t.form.controls.repeat.errors,t.form.controls.repeat.valid))("placeholder",o.lcZ(50,53,"contrase\xf1a")),o.xp6(2),o.Q6J("ngIf",t.form.controls.repeat.touched&&t.form.controls.repeat.errors),o.xp6(2),o.Q6J("ngClass",o.kEZ(81,U,t.securityRepeat===t.PASSWORD_SECURITIES.WEAK,t.securityRepeat===t.PASSWORD_SECURITIES.MEDIUM,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.WLB(85,J,t.securityRepeat===t.PASSWORD_SECURITIES.MEDIUM,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngClass",o.VKq(88,q,t.securityRepeat===t.PASSWORD_SECURITIES.STRONG)),o.xp6(1),o.Q6J("ngIf",t.form.controls.repeat.touched&&!t.form.controls.password.errors&&!t.form.controls.repeat.errors&&t.form.hasError("passwordMismatch")),o.xp6(1),o.Q6J("disabled",t.form.invalid),o.xp6(1),o.hij(" ",o.lcZ(59,55,o.lcZ(60,57,"cambiar contrase\xf1a"))," "),o.xp6(5),o.hij(" ",o.lcZ(64,59,o.lcZ(65,61,"reenviar c\xf3digo"))," ")}}const qo=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:io},{path:"forgot-password",component:(()=>{class n extends b.u{constructor(t,s,l,v,x){super(),this._router=t,this._zone=s,this._authenticationService=l,this._toastService=v,this._cdRef=x,this.inputPasswordType="password",this.faEnvelope=c.FU$,this.passwordIcon=c.Mdf,this.faShield=T.isG,this.forgotPasswordSteps=_,this.forgotPasswordStep=_.STEP_1,this.securityPassword=r.WEAK,this.securityRepeat=r.WEAK,this.PASSWORD_SECURITIES=r,this.form=new i.nJ({email:new i.p4({value:null,disabled:!1},[i.kI.required,i.kI.pattern(y.CU)]),pin:new i.p4({value:null,disabled:!1},[i.kI.required]),password:new i.p4({value:null,disabled:!1},[i.kI.required]),repeat:new i.p4({value:null,disabled:!1},[i.kI.required])},this.matchPasswords)}matchPasswords(t){const s=t.get("password"),l=t.get("repeat");return s.value!==l.value?{passwordMismatch:!0}:null}checkSecurity(t){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(t)?r.STRONG:t?.length>=8&&(t?.match(/[A-Za-z]/)||[]).length>0?r.MEDIUM:r.WEAK}checkPasswordSecurity(){this.form.get("password").valueChanges.pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this.securityPassword=this.checkSecurity(t)}}),this.form.get("repeat").valueChanges.pipe((0,d.R)(this.observableDestroy$)).subscribe({next:t=>{this.securityRepeat=this.checkSecurity(t)}})}sendCode(){this.form.get("email").valid?this._authenticationService.sendPasswordResetCode(this.form.get("email").value).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:()=>{this.forgotPasswordStep=_.STEP_2,this._toastService.showToast((0,p.J)("Se ha enviado un c\xf3digo al correo electr\xf3nico ")+this.form.get("email").value,g.p.SUCCESS),this._cdRef.detectChanges()},error:()=>{this._toastService.showToast((0,p.J)("Ha ocurrido un error al enviar el c\xf3digo de activaci\xf3n"),g.p.DANGER)}}):(this.forgotPasswordStep=_.STEP_1,this._toastService.showToast((0,p.J)("El correo electr\xf3nico es requerido"),g.p.DANGER),this._cdRef.detectChanges())}changePassWord(){this.form.valid&&this.form.get("pin").valid&&this.form.get("password").valid&&this._authenticationService.changePassword({code:this.form.get("pin").value,password:this.form.get("password").value}).pipe((0,d.R)(this.observableDestroy$)).subscribe({next:()=>{this._toastService.showToast((0,p.J)("Su contrase\xf1a se ha cambiado con \xe9xito"),g.p.SUCCESS),this._zone.run(()=>{this._router.navigate(["authentication"]).then()})},error:()=>{this._toastService.showToast((0,p.J)("Ha ocurrido un error al cambiar la contrase\xf1a"),g.p.DANGER)}})}togglePasswordType(){this.passwordIcon="password"===this.inputPasswordType?c.Aq:c.Mdf,this.inputPasswordType="password"===this.inputPasswordType?"text":"password"}ngOnInit(){this.checkPasswordSecurity()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(m.F0),o.Y36(o.R0b),o.Y36(Z.$),o.Y36(g.k),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[o.qOj,o.jDz],decls:16,vars:13,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100","authentication"],[1,"d-flex","flex-column","align-content-center","align-content-center"],[1,"login-card","d-flex","flex-column","px-3","py-4","gap-3",3,"formGroup"],[1,"d-flex","justify-content-center"],["alt","logo","src","assets/images/logos/logo.png",1,"w-100"],["class","d-flex flex-column mt-3",4,"ngIf"],[1,"d-flex","justify-content-between"],["routerLink","/authentication/login",1,"cursor-pointer","hover-primary"],["routerLink","/authentication/activate-account",1,"cursor-pointer","hover-primary"],[1,"d-flex","flex-column","mt-3"],[1,"information-text"],[1,"d-flex","flex-column","form-group","mt-3"],[1,"control-label"],[1,"input-group","mt-2"],[1,"input-group-addon"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"icon"],["formControlName","email","type","email",1,"form-control",3,"placeholder","ngClass","keydown.enter"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","flex-column","form-group"],["formControlName","pin","type","text",1,"form-control",3,"ngClass","placeholder","keydown.enter"],[1,"information-text","mt-3"],[3,"icon","click"],["formControlName","password",1,"form-control",3,"type","ngClass","placeholder","keydown.enter"],[1,"d-flex","mt-1"],[1,"password-security",3,"ngClass"],["formControlName","repeat",1,"form-control",3,"type","ngClass","placeholder","keydown.enter"],["class","mt-3 mb-0 py-1","type","danger",3,"dismissible",4,"ngIf"],[1,"d-flex","justify-content-center","text-secondary","mt-3"],[1,"cursor-pointer",3,"click"],["type","danger",1,"mt-3","mb-0","py-1",3,"dismissible"]],template:function(t,s){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.YNc(5,To,22,25,"div",5),o.YNc(6,Jo,66,90,"div",5),o.TgZ(7,"div",6)(8,"span",7),o._uU(9),o.ALo(10,"capitalize"),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"span",8),o._uU(13),o.ALo(14,"capitalize"),o.ALo(15,"translate"),o.qZA()()()()()),2&t&&(o.xp6(2),o.Q6J("formGroup",s.form),o.xp6(3),o.Q6J("ngIf",s.forgotPasswordStep===s.forgotPasswordSteps.STEP_1),o.xp6(1),o.Q6J("ngIf",s.forgotPasswordStep===s.forgotPasswordSteps.STEP_2),o.xp6(3),o.hij(" ",o.lcZ(10,5,o.lcZ(11,7,"iniciar sesi\xf3n"))," "),o.xp6(4),o.hij(" ",o.lcZ(14,9,o.lcZ(15,11,"activar cuenta"))," "))},dependencies:[i.UX,i.Fj,i.JJ,i.JL,i.sg,i.u,f.O5,u.aw,u.X$,f.rS,C.uH,C.BN,f.mk,O.P,M.e,k.xm,m.rH],styles:[".authentication[_ngcontent-%COMP%]{background-color:#b3b3b3;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(216,960,470)'%3E%3Cstop offset='0' stop-color='%23B3B3B3'/%3E%3Cstop offset='1' stop-color='%2310B4E9'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='348' height='290' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.08'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.alert-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#c9effb;border-color:#b6e9fa}.alert-atlas-theme[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#9ee2f8}.alert-atlas-theme[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#043646}.badge-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9}.badge-atlas-theme[href][_ngcontent-%COMP%]:hover, .badge-atlas-theme[href][_ngcontent-%COMP%]:focus{color:#212529;background-color:#0c8fb9}.bg-atlas-theme[_ngcontent-%COMP%]{background-color:#10b4e9!important}a.bg-atlas-theme[_ngcontent-%COMP%]:hover, a.bg-atlas-theme[_ngcontent-%COMP%]:focus, button.bg-atlas-theme[_ngcontent-%COMP%]:hover, button.bg-atlas-theme[_ngcontent-%COMP%]:focus{background-color:#0c8fb9!important}.border-atlas-theme[_ngcontent-%COMP%]{border-color:#10b4e9!important}.btn-atlas-theme[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#0d9ac7;border-color:#0c8fb9}.btn-atlas-theme[_ngcontent-%COMP%]:focus, .btn-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-atlas-theme.disabled[_ngcontent-%COMP%], .btn-atlas-theme[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#0c8fb9;border-color:#0b84aa}.btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9;background-color:transparent;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:hover{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:focus, .btn-outline-atlas-theme.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #10b4e980}.btn-outline-atlas-theme.disabled[_ngcontent-%COMP%], .btn-outline-atlas-theme[_ngcontent-%COMP%]:disabled{color:#10b4e9;background-color:transparent}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#10b4e9;border-color:#10b4e9}.btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-atlas-theme[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-atlas-theme.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #10b4e980}.list-group-item-atlas-theme[_ngcontent-%COMP%]{color:#085b76;background-color:#b6e9fa}.list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-atlas-theme.list-group-item-action[_ngcontent-%COMP%]:focus{color:#085b76;background-color:#9ee2f8}.list-group-item-atlas-theme.list-group-item-action.active[_ngcontent-%COMP%]{color:#212529;background-color:#085b76;border-color:#085b76}.table-atlas-theme[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-atlas-theme[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#b6e9fa}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover{background-color:#9ee2f8}.table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]   .table-atlas-theme[_ngcontent-%COMP%]:hover > th[_ngcontent-%COMP%]{background-color:#9ee2f8}.text-atlas-theme[_ngcontent-%COMP%]{color:#10b4e9!important}a.text-atlas-theme[_ngcontent-%COMP%]:hover, a.text-atlas-theme[_ngcontent-%COMP%]:focus{color:#0c8fb9!important}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{box-shadow:0 0 10px -4px #000;max-width:360px;min-width:360px;border-radius:8px;background-color:#fff}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0;width:45px}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .information-text[_ngcontent-%COMP%]{font-size:13px;text-align:center;color:gray}.authentication[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .password-security[_ngcontent-%COMP%]{width:33%;height:8px;border:1px solid #b3b3b3}"],changeDetection:0}),n})()},{path:"activate-account",component:wo}];let Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[m.Bz.forChild(qo),m.Bz]}),n})(),No=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ro]}),n})()},9741:(R,P,a)=>{a.d(P,{K:()=>C});var m=a(7560),i=a(4230),c=a(7557),f=a(8982),p=a(755);let C=(()=>{class u extends i.M{constructor(b){super(b),this.url=c.yz,this.urlId=c.bq}getUserProfile(){return this.http.get(c.sv).pipe((0,m.K)(f.F.handleError))}}return u.\u0275fac=function(b){return new(b||u)(p.LFG(p.zs3))},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac}),u})()}}]);