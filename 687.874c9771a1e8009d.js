"use strict";(self.webpackChunkfact_front=self.webpackChunkfact_front||[]).push([[687],{155:(I,m,t)=>{t.d(m,{b:()=>h});var l=t(9581),e=t(6142),c=t(134);function h(r,a=l.z){return(0,e.e)((_,T)=>{let v=null,E=null,M=null;const O=()=>{if(v){v.unsubscribe(),v=null;const C=E;E=null,T.next(C)}};function P(){const C=M+r,A=a.now();if(A<C)return v=this.schedule(void 0,C-A),void T.add(v);O()}_.subscribe((0,c.x)(T,C=>{E=C,M=a.now(),v||(v=a.schedule(P,r),T.add(v))},()=>{O(),T.complete()},void 0,()=>{E=v=null}))})}},2073:(I,m,t)=>{t.d(m,{v:()=>x});var l=t(3226),e=t(755),c=t(8748),h=t(155),r=t(8004),a=t(5333),_=t(5047),T=t(4787),v=t(1209),E=t(2295),M=t(6733);const O=["typeahead"],P=function(u,D){return{"is-invalid":u,"is-valid":D}};function C(u,D){if(1&u){const n=e.EpF();e.TgZ(0,"input",2,3),e.NdJ("ngModelChange",function(d){e.CHM(n);const f=e.oxw();return e.KtG(f.selectedItem=d)})("selectItem",function(d){e.CHM(n);const f=e.oxw();return e.KtG(f.onSelectItem(d))})("focus",function(d){e.CHM(n);const f=e.oxw();return e.KtG(f.focus$.next(d.target.value))})("click",function(d){e.CHM(n);const f=e.oxw();return f.click$.next(d.target.value),e.KtG(f.touchedElement())}),e.qZA()}if(2&u){const n=e.oxw();e.Q6J("ngbTypeahead",n.search)("ngModel",n.selectedItem)("resultFormatter",n.formatResult)("inputFormatter",n.formatInput)("placeholder",n.placeholder)("ngClass",e.WLB(6,P,!n.selectedItem&&n.touched&&n.required,n.selectedItem))}}function A(u,D){if(1&u&&e._UZ(0,"input",4),2&u){const n=e.oxw();e.Q6J("ngModel",null==n.selectedItem?null:n.selectedItem.name)}}let x=(()=>{class u{constructor(n,p){this._config=n,this._cdRef=p,this.touched=!1,this.focus$=new c.x,this.click$=new c.x,this.items=[],this.required=!1,this.readonly=!1,this.placeholder="",this.itemSelected=new e.vpe,this.itemIsTouched=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{},this.formatResult=d=>d.name,this.formatInput=d=>d.name,this.search=d=>{const f=d.pipe((0,h.b)(200),(0,r.x)((F,s)=>JSON.stringify(F)===JSON.stringify(s))),b=this.click$.pipe((0,a.h)(()=>!this.instance?.isPopupOpen()));return(0,_.T)(f,this.focus$,b).pipe((0,T.w)(F=>(0,v.of)(this.items.filter(s=>s.name.toLowerCase().indexOf(F.toLowerCase())>-1))))},n.container="body"}touchedElement(){this.touched=!0,this.itemIsTouched.emit()}writeValue(n){this.selectedItem=n,this.readonly&&(this.selectedItem=this.items.find(p=>p.uuid===n)),this._cdRef.detectChanges()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onSelectItem(n){this.selectedItem=n,this.onChange(n?.item),this.onTouched(),this.itemSelected.emit(n?.item)}ngOnInit(){this.items||(this.items=[])}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(E.A6),e.Y36(e.sBO))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-generic-filter-select"]],viewQuery:function(n,p){if(1&n&&e.Gf(O,7),2&n){let d;e.iGM(d=e.CRH())&&(p.instance=d.first)}},inputs:{items:"items",required:"required",readonly:"readonly",placeholder:"placeholder"},outputs:{itemSelected:"itemSelected",itemIsTouched:"itemIsTouched"},standalone:!0,features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>u),multi:!0}]),e.jDz],decls:2,vars:2,consts:[["class","form-control","type","text","id","typeahead-focus",3,"ngbTypeahead","ngModel","resultFormatter","inputFormatter","placeholder","ngClass","ngModelChange","selectItem","focus","click",4,"ngIf"],["class","form-control",3,"ngModel",4,"ngIf"],["type","text","id","typeahead-focus",1,"form-control",3,"ngbTypeahead","ngModel","resultFormatter","inputFormatter","placeholder","ngClass","ngModelChange","selectItem","focus","click"],["typeahead","ngbTypeahead"],[1,"form-control",3,"ngModel"]],template:function(n,p){1&n&&(e.YNc(0,C,2,9,"input",0),e.YNc(1,A,1,1,"input",1)),2&n&&(e.Q6J("ngIf",!p.readonly),e.xp6(1),e.Q6J("ngIf",p.readonly))},dependencies:[E.ZS,E.dR,l.u5,l.Fj,l.JJ,l.On,l.UX,M.mk,M.O5],encapsulation:2}),u})()},5687:(I,m,t)=>{t.d(m,{n:()=>F});var l=t(3226),e=t(755),c=t(2997),h=t(6733),r=t(4039),a=t(1749),_=t(8004),T=t(155),v=t(3690),E=t(5169),M=t(5468),O=t(8139),P=t(9529),C=t(2073),A=t(5893);function x(s,g){1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"la provincia es requerida"))," "))}function u(s,g){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,x,4,5,"span",12),e.qZA()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.locationForm.controls.province.hasError("required"))}}function D(s,g){1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"cant\xf3n es requerido"))," "))}function n(s,g){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,D,4,5,"span",12),e.qZA()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.locationForm.controls.canton.hasError("required"))}}function p(s,g){1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"el distrito es requerido"))," "))}function d(s,g){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,p,4,5,"span",12),e.qZA()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.locationForm.controls.district.hasError("required"))}}function f(s,g){1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"el barrio es requerido"))," "))}function b(s,g){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,f,4,5,"span",12),e.qZA()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.locationForm.controls.neighborhood.hasError("required"))}}const L=function(s,g){return{"is-invalid":s,"is-valid":g}};let F=(()=>{class s extends v.u{constructor(o,i,y,R,Z){super(),this._provinceService=o,this._cantonService=i,this._neighborhoodService=y,this._districtService=R,this._cdRef=Z,this.locationForm=new l.nJ({province:new l.p4({value:null,disabled:!1},[l.kI.required]),canton:new l.p4({value:null,disabled:!0},[l.kI.required]),district:new l.p4({value:null,disabled:!0},[l.kI.required]),neighborhood:new l.p4({value:null,disabled:!0}),otherSigns:new l.p4({value:null,disabled:!1})}),this.provinces=[],this.cantons=[],this.districts=[],this.neighborhoods=[],this.readonly=!1,this.onChange=()=>{},this.onTouched=()=>{}}set disabled(o){o?this.locationForm.disable():this.locationForm.enable()}getProvinces(){this._provinceService.getElements({limit:1e3},{country:"Costa Rica"}).pipe((0,a.R)(this.observableDestroy$)).subscribe({next:o=>{this.provinces=o?.results,this._cdRef.detectChanges()}})}getCantons(){let o={};this.readonly?"number"==typeof this.locationForm.get("province").value&&(o={province__uuid:this.locationForm.get("province").value}):o={province__uuid:this.locationForm.get("province").value?.uuid},this._cantonService.getElements({limit:1e3},o).pipe((0,a.R)(this.observableDestroy$)).subscribe({next:i=>{this.cantons=i?.results,this._cdRef.detectChanges()}})}getNeighborhoods(){let o={};this.readonly?"number"==typeof this.locationForm.get("district").value&&(o={district__uuid:this.locationForm.get("district").value}):o={district__uuid:this.locationForm.get("district").value?.uuid},this._neighborhoodService.getElements({limit:1e4},o).pipe((0,a.R)(this.observableDestroy$)).subscribe({next:i=>{this.neighborhoods=i?.results,this._cdRef.detectChanges()}})}getDistricts(){let o={};this.readonly?"number"==typeof this.locationForm.get("canton").value&&(o={canton__uuid:this.locationForm.get("canton").value}):o={canton__uuid:this.locationForm.get("canton").value?.uuid},this._districtService.getElements({limit:1e3},o).pipe((0,a.R)(this.observableDestroy$)).subscribe({next:i=>{this.districts=i?.results,this._cdRef.detectChanges()}})}changeProvince(){this.locationForm.get("province").valueChanges.pipe((0,a.R)(this.observableDestroy$)).subscribe({next:()=>{this.locationForm.get("province").value?.uuid&&(this.locationForm.get("canton").enable(),this.getCantons())}})}changeCanton(){this.locationForm.get("canton").valueChanges.pipe((0,a.R)(this.observableDestroy$)).subscribe({next:()=>{this.locationForm.get("canton").value?.uuid&&(this.locationForm.get("district").enable(),this.getDistricts())}})}changeDistrict(){this.locationForm.get("district").valueChanges.pipe((0,a.R)(this.observableDestroy$)).subscribe({next:()=>{this.locationForm.get("district").value?.uuid&&(this.locationForm.get("neighborhood").enable(),this.getNeighborhoods())}})}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}writeValue(o){o&&this.locationForm.patchValue({province:o?.province,canton:o?.canton,district:o?.district,neighborhood:o?.neighborhood,otherSigns:o?.other_signs})}reactToValueChanges(){this.locationForm.valueChanges.pipe((0,a.R)(this.observableDestroy$),(0,_.x)((o,i)=>JSON.stringify(o)===JSON.stringify(i)),(0,T.b)(100)).subscribe({next:o=>{this.readonly||(this.onChange(o),this.onTouched())}})}ngOnInit(){this.getProvinces(),this.readonly?(this.getCantons(),this.getDistricts(),this.getNeighborhoods()):(this.changeProvince(),this.changeCanton(),this.changeDistrict()),this.reactToValueChanges()}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(M.f),e.Y36(P.n),e.Y36(E.I),e.Y36(O.R),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-location"]],inputs:{readonly:"readonly",disabled:"disabled"},standalone:!0,features:[e._Bn([M.f,P.n,E.I,O.R,{provide:l.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}]),e.qOj,e.jDz],decls:36,vars:54,consts:[[1,"d-flex","flex-column","justify-content-start","gap-3",3,"formGroup"],[1,"d-flex","justify-content-between","gap-3"],[1,"d-flex","flex-column","form-group","w-25"],[1,"control-label","mb-2"],["formControlName","province",3,"items","required","readonly","ngClass","itemIsTouched"],["class","invalid-feedback",4,"ngIf"],["formControlName","canton",3,"items","required","readonly","ngClass","itemIsTouched"],["formControlName","district",3,"items","required","readonly","ngClass","itemIsTouched"],["formControlName","neighborhood",3,"readonly","items"],[1,"d-flex","flex-column","form-group","w-100"],["formControlName","otherSigns",1,"form-control",3,"readonly"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4),e.ALo(5,"capitalize"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"app-generic-filter-select",4),e.NdJ("itemIsTouched",function(){return i.locationForm.controls.province.markAllAsTouched()}),e.qZA(),e.YNc(8,u,2,1,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",3),e._uU(11),e.ALo(12,"capitalize"),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-generic-filter-select",6),e.NdJ("itemIsTouched",function(){return i.locationForm.controls.canton.markAllAsTouched()}),e.qZA(),e.YNc(15,n,2,1,"div",5),e.qZA(),e.TgZ(16,"div",2)(17,"label",3),e._uU(18),e.ALo(19,"capitalize"),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"app-generic-filter-select",7),e.NdJ("itemIsTouched",function(){return i.locationForm.controls.district.markAllAsTouched()}),e.qZA(),e.YNc(22,d,2,1,"div",5),e.qZA(),e.TgZ(23,"div",2)(24,"label",3),e._uU(25),e.ALo(26,"capitalize"),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"app-generic-filter-select",8),e.YNc(29,b,2,1,"div",5),e.qZA()(),e.TgZ(30,"div",9)(31,"label",3),e._uU(32),e.ALo(33,"capitalize"),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",10),e.qZA()()),2&o&&(e.Q6J("formGroup",i.locationForm),e.xp6(4),e.hij(" ",e.lcZ(5,25,e.lcZ(6,27,"provincia")),": "),e.xp6(3),e.Q6J("items",i.provinces)("required",!0)("readonly",i.readonly)("ngClass",e.WLB(45,L,i.locationForm.controls.province.touched&&i.locationForm.controls.province.errors,i.locationForm.controls.province.valid)),e.xp6(1),e.Q6J("ngIf",i.locationForm.controls.province.touched&&i.locationForm.controls.province.errors),e.xp6(3),e.hij(" ",e.lcZ(12,29,e.lcZ(13,31,"cant\xf3n")),": "),e.xp6(3),e.Q6J("items",i.cantons)("required",!0)("readonly",i.readonly)("ngClass",e.WLB(48,L,i.locationForm.controls.canton.touched&&i.locationForm.controls.canton.errors,i.locationForm.controls.canton.valid)),e.xp6(1),e.Q6J("ngIf",i.locationForm.controls.canton.touched&&i.locationForm.controls.canton.errors),e.xp6(3),e.hij(" ",e.lcZ(19,33,e.lcZ(20,35,"distrito")),": "),e.xp6(3),e.Q6J("items",i.districts)("required",!0)("readonly",i.readonly)("ngClass",e.WLB(51,L,i.locationForm.controls.district.touched&&i.locationForm.controls.district.errors,i.locationForm.controls.district.valid)),e.xp6(1),e.Q6J("ngIf",i.locationForm.controls.district.touched&&i.locationForm.controls.district.errors),e.xp6(3),e.hij(" ",e.lcZ(26,37,e.lcZ(27,39,"barrio")),": "),e.xp6(3),e.Q6J("readonly",i.readonly)("items",i.neighborhoods),e.xp6(1),e.Q6J("ngIf",i.locationForm.controls.neighborhood.touched&&i.locationForm.controls.neighborhood.errors),e.xp6(3),e.hij(" ",e.lcZ(33,41,e.lcZ(34,43,"otras se\xf1as")),": "),e.xp6(3),e.Q6J("readonly",i.readonly))},dependencies:[l.UX,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,r.aw,r.X$,c.P,A.e,h.mk,h.O5,C.v],changeDetection:0}),s})()},9529:(I,m,t)=>{t.d(m,{n:()=>h});var l=t(4230),e=t(7557),c=t(755);let h=(()=>{class r extends l.M{constructor(_){super(_),this.url=e.Hv,this.urlId=e.Jd}}return r.\u0275fac=function(_){return new(_||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})()},8139:(I,m,t)=>{t.d(m,{R:()=>h});var l=t(4230),e=t(7557),c=t(755);let h=(()=>{class r extends l.M{constructor(_){super(_),this.url=e.kW,this.urlId=e.TY}}return r.\u0275fac=function(_){return new(_||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},5169:(I,m,t)=>{t.d(m,{I:()=>h});var l=t(4230),e=t(7557),c=t(755);let h=(()=>{class r extends l.M{constructor(_){super(_),this.url=e.Lb,this.urlId=e.Db}}return r.\u0275fac=function(_){return new(_||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})()},5468:(I,m,t)=>{t.d(m,{f:()=>h});var l=t(4230),e=t(7557),c=t(755);let h=(()=>{class r extends l.M{constructor(_){super(_),this.url=e.x,this.urlId=e.nx}}return r.\u0275fac=function(_){return new(_||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})()}}]);